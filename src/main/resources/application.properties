# Application name
spring.application.name=govpay-fdr-batch

# Server port (for management endpoints)
server.port=8080

# Datasource configuration
# H2 for development
spring.datasource.url=jdbc:h2:mem:fdrdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# PostgreSQL for production (uncomment and configure)
#spring.datasource.url=jdbc:postgresql://localhost:5432/fdrdb
#spring.datasource.driver-class-name=org.postgresql.Driver
#spring.datasource.username=fdr_user
#spring.datasource.password=your_password

# JPA/Hibernate configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# H2 Console (for development only)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Spring Batch configuration
spring.batch.job.enabled=false
spring.batch.jdbc.initialize-schema=always

# pagoPA FDR API configuration
pagopa.fdr.base-url=https://api.platform.pagopa.it/fdr-org/service/v1
pagopa.fdr.subscription-key=${PAGOPA_SUBSCRIPTION_KEY:your-subscription-key-here}
pagopa.fdr.subscription-key-header=Ocp-Apim-Subscription-Key
pagopa.fdr.connection-timeout=10000
pagopa.fdr.read-timeout=30000
pagopa.fdr.max-retries=3
pagopa.fdr.page-size=1000

# Batch configuration
govpay.batch.enabled=true
govpay.batch.cron=0 0 2 * * ?
govpay.batch.thread-pool-size=5
govpay.batch.chunk-size=100
govpay.batch.skip-limit=10

# Logging configuration
logging.level.root=INFO
logging.level.it.govpay.fdr.batch=DEBUG
logging.level.org.springframework.batch=INFO
logging.level.org.springframework.web.client=DEBUG
